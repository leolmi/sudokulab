@defer {
  <div class="schemas-browser"
       [class.allow-compact]="allowCompact">
    @for (sdk of schemas$|async; track sdk.values) {
      <div class="schema-item sdk-color-hover board-active-contrast"
           [attr.id]="'s'+$index"
           [class.active]="sdk.values===(activeSchema$|async)"
           (click)="internalClickOnSchema(sdk)"
           [matTooltip]="sdk | itemTooltip"
           [matTooltipDisabled]="!(state.layout$|async)?.compact"
           fxLayout="row" fxLayoutAlign="start center">
        <sudoku-board-preview [schema]="sdk.values"></sudoku-board-preview>
        <div class="schema-info" fxLayout="column" fxFlex>
          <div class="title" fxFlex>{{sdk.name}}</div>
          <div class="sub-title">{{sdk.info.fixedCount}} {{sdk.info.difficulty||'unknown'}} ({{sdk.info.difficultyValue||'?'}})</div>
        </div>
        @if (sdk | userPlaying) {
          <mat-icon class="play-info">edit</mat-icon>
        }
        @if (sdk.info.useTryAlgorithm) {
          <div class="t-info">T{{sdk.info.tryAlgorithmCount}}</div>
        }
        <div class="alg-info">A{{sdk.info.algorithmCount}}</div>
      </div>
    }
  </div>
} @placeholder (minimum 500ms) {
  <div class="schemas-browser schemas-placeholder"
       fxLayout="row" fxLayoutAlign="center center">
    <mat-spinner mode="indeterminate"></mat-spinner>
  </div>
}
